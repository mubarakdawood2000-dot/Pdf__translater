<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مترجم PDF الذكي | مبارك</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Cairo', sans-serif; }
        .glass-card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); }
        .drop-zone--active { border-color: #2563eb; background-color: #eff6ff; scale: 1.02; }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-100 to-blue-100 min-h-screen flex flex-col items-center py-12 px-4">

    <div class="w-full max-w-2xl glass-card shadow-2xl rounded-[2rem] overflow-hidden border border-white">
        
        <div class="bg-blue-600 p-10 text-center text-white relative">
            <div class="absolute top-4 right-4 opacity-20">
                <svg class="w-20 h-20" fill="currentColor" viewBox="0 0 24 24"><path d="M13 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V9l-7-7zM6 20V4h6v5h5v11H6z"/></svg>
            </div>
            <h1 class="text-3xl font-bold tracking-tight">مترجم المستندات الذكي</h1>
            <p class="mt-2 text-blue-100 opacity-90 text-lg">بواسطة المبرمج مبارك</p>
        </div>

        <div class="p-8">
            <div id="dropZone" class="border-4 border-dashed border-slate-200 rounded-3xl p-12 text-center transition-all cursor-pointer hover:border-blue-400 group relative">
                <input type="file" id="fileInput" class="hidden" accept=".pdf">
                <div class="flex flex-col items-center">
                    <div class="w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-blue-100 transition-colors">
                        <svg class="w-10 h-10 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                        </svg>
                    </div>
                    <p id="fileStatus" class="text-slate-600 font-bold text-xl">اسحب ملف الـ PDF هنا</p>
                    <p class="text-slate-400 mt-2">أو اضغط لاختيار ملف من جهازك</p>
                </div>
            </div>

            <button id="translateBtn" class="w-full mt-8 bg-blue-600 text-white py-5 rounded-2xl font-bold text-xl hover:bg-blue-700 active:scale-95 transition-all shadow-xl flex items-center justify-center gap-4 group">
                <span id="btnText">ترجم الملف الآن</span>
                <div id="spinner" class="hidden w-6 h-6 border-4 border-white border-t-transparent rounded-full animate-spin"></div>
                <svg class="w-6 h-6 group-hover:translate-x-[-4px] transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" /></svg>
            </button>

            <div id="resultSection" class="hidden mt-10 animate-[fadeIn_0.5s_ease-out]">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-xl font-bold text-slate-800">النص المترجم:</h3>
                    <button onclick="copyResult()" class="flex items-center gap-2 bg-slate-100 text-slate-600 px-4 py-2 rounded-xl hover:bg-slate-200 transition-colors font-bold">
                        <span>نسخ النص</span>
                    </button>
                </div>
                <div id="outputArea" class="p-6 bg-slate-50 border border-slate-200 rounded-2xl text-slate-700 leading-relaxed text-right min-h-[150px] shadow-inner text-lg">
                    </div>
            </div>
        </div>
    </div>

    <footer class="mt-12 text-slate-500 font-medium">
        حقوق الملكية © 2026 | تطوير <span class="text-blue-600">مبارك</span>
    </footer>

    <script>
        const dropZone = document.getElementById('dropZone');
        const fileInput = document.getElementById('fileInput');
        const fileStatus = document.getElementById('fileStatus');
        const translateBtn = document.getElementById('translateBtn');
        const btnText = document.getElementById('btnText');
        const spinner = document.getElementById('spinner');
        const resultSection = document.getElementById('resultSection');
        const outputArea = document.getElementById('outputArea');

        // أحداث السحب والإفلات
        dropZone.onclick = () => fileInput.click();
        
        fileInput.onchange = (e) => {
            if(e.target.files.length > 0) {
                fileStatus.innerHTML = `تم اختيار: <span class="text-blue-600 underline">${e.target.files[0].name}</span>`;
                dropZone.classList.add('border-blue-400', 'bg-blue-50');
            }
        };

        // منطق الترجمة المدمج
        translateBtn.onclick = async () => {
            if(!fileInput.files[0]) return alert("من فضلك يا مبارك، اختر ملفاً أولاً!");

            // تفعيل حالة التحميل
            translateBtn.disabled = true;
            spinner.classList.remove('hidden');
            btnText.innerText = "جاري الاتصال بـ GPT-4...";

            try {
                // نص افتراضي للمحاكاة (سيتم استبداله بالترجمة الحقيقية عند ربط السيرفر)
                const textToTranslate = "Hello Mubarak! Your PDF file has been successfully uploaded and processed using artificial intelligence.";
                
                // جلب ترجمة حقيقية من Google Translate API (مثال سريع)
                const response = await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=ar&dt=t&q=${encodeURI(textToTranslate)}`);
                const data = await response.json();
                const translation = data[0][0][0];

                // عرض النتيجة النهائية بعد تأخير بسيط لإعطاء طابع المعالجة
                setTimeout(() => {
                    resultSection.classList.remove('hidden');
                    outputArea.innerText = translation;
                    btnText.innerText = "تمت الترجمة بنجاح!";
                    spinner.classList.add('hidden');
                    translateBtn.disabled = false;
                }, 2000);

            } catch (error) {
                alert("حدث خطأ بسيط، حاول مرة أخرى.");
                btnText.innerText = "فشل في الترجمة";
                spinner.classList.add('hidden');
                translateBtn.disabled = false;
            }
        };

        function copyResult() {
            navigator.clipboard.writeText(outputArea.innerText);
            alert("تم نسخ النص يا مبارك!");
        }
    </script>

</body>
</html>
